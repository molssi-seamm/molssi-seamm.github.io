<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tables and Loops &mdash; SEAMM 2022.10.15-9-gea81080 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PQXXTJ2');</script>
<!-- End Google Tag Manager -->

<!-- Get plotly for graphs -->
<script src="https://cdn.plot.ly/plotly-2.8.3.min.js"></script>


  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Running from the Command-Line" href="tutorial_4.html" />
    <link rel="prev" title="Working with the Dashboard" href="tutorial_2.html" /> 
</head>

<body class="wy-body-for-nav">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PQXXTJ2"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
 

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> SEAMM
          </a>
              <div class="version">
                2022.10.15-9-gea81080
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../why_seamm/index.html">Why SEAMM?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../why_seamm/user_experience.html">User Experience</a></li>
<li class="toctree-l2"><a class="reference internal" href="../why_seamm/productivity.html">Productivity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../why_seamm/workflow_features.html">Workflow Features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installing SEAMM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/graphical.html">Graphical Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/command-line.html">Command Line Installation</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorial_1.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard_management.html">Managing the Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_2.html">Working with the Dashboard</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Tables and Loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_4.html">Running from the Command-Line</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developers Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developers/home_for_tools.html">A Home for Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/software_ecosystem/index.html">Software Ecosystem</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../developers/software_ecosystem/gui.html">Graphical User Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developers/software_ecosystem/dashboard.html">Dashboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developers/software_ecosystem/flowchart.html">Flowchart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developers/software_ecosystem/flowchart_interpreter.html">Flowchart Interpreter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developers/software_ecosystem/job_manager.html">Job Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developers/software_ecosystem/job_datastore.html">Job Datastore</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../developers/plug-ins.html">Plug-ins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/forcefields/index.html">Handling Forcefields and Interatomic Potentials in SEAMM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../developers/forcefields/plugin_anatomy.html">Anatomy of a Forcefield Plug-in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developers/forcefields/selection.html">Selecting a Forcefield</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developers/forcefields/atom_typing.html">Atom Typing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developers/forcefields/energy_expression.html">Energy Expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developers/forcefields/using_energy_expressions.html">Using the Energy Expression</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../developers/new-plug-in/index.html">Creating a New Plug-in</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../developers/new-plug-in/properties.html">Saving Properties in the Database</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../developers/tips-and-tricks/index.html">Tips and Tricks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../developers/tips-and-tricks/update-with-cookiecutter.html">Updating with Cookiecutter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../developers/tutorials/index.html">Tutorials for Developers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../developers/tutorials/development_environment.html">Installing the Development Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developers/tutorials/simple_plugin/index.html">A simple plug-in: PySCF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../developers/tutorials/simple_plugin/cookiecutter.html">Creating the plug-in with the seamm-cookiecutter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developers/tutorials/simple_plugin/compiling.html">“Compiling” the plug-in</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developers/tutorials/simple_plugin/code_overview.html">An overview of the code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developers/tutorials/simple_plugin/customizing.html">Customizing the plug-in to run PySCF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developers/tutorials/simple_plugin/flowchart.html">Create a test flowchart</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../developers/core_modules.html">Core Modules</a><ul>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/seamm/index.html"> seamm</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/molsystem/index.html"> molsystem</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/seamm_util/index.html"> seamm-util</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/seamm_widgets/index.html"> seamm-widgets</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/seamm_ff_util/index.html"> seamm-ff-util</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/seamm_jobserver/index.html"> seamm-jobserver</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/seamm_installer/index.html"> seamm-installer</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../whitepapers/index.html">Whitepapers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../whitepapers/system.html">Systems: Molecules, Crystal, Fluids and all that</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whitepapers/forcefields/overview.html">Overview of Forcefields</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../whitepapers/forcefields/functional_form.html">Functional Form</a></li>
<li class="toctree-l3"><a class="reference internal" href="../whitepapers/forcefields/parameters.html">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../whitepapers/forcefields/atom_types.html">Atom Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../whitepapers/forcefields/types_of_forcefields.html">Types of Forcefields</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plug-ins/index.html">Plug-ins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../plug-ins/building.html">Building</a><ul>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/crystal_builder_step/index.html">Crystal Builder</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/from_smiles_step/index.html">From SMILES</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/packmol_step/index.html">PACKMOL</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/set_cell_step/index.html">Set Cell</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/strain_step/index.html">Strain</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/supercell_step/index.html">Supercell</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plug-ins/control.html">Control</a><ul>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/control_parameters_step/index.html">Control Parameters</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/loop_step/index.html">Loop</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plug-ins/data.html">Data</a><ul>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/read_structure_step/index.html">Read Structure</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/table_step/index.html">Table</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/system_step/index.html">System</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plug-ins/simulations.html">Simulations</a><ul>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/dftbplus_step/index.html">DFTB+</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/lammps_step/index.html">LAMMPS</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/mopac_step/index.html">MOPAC</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/psi4_step/index.html">Psi4</a></li>
<li class="toctree-l3"><a class="reference external" href="https://molssi-seamm.github.io/quickmin_step/index.html">QuickMin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../status/index.html">Status</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../status/building.html">Building plug-ins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../status/control.html">Control plug-ins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../status/custom.html">Custom plug-ins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../status/data.html">Data plug-ins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../status/simulations.html">Simulation plug-ins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../statistics/index.html">Statistics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../statistics/control-parameters-step.html">control-parameters-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/crystal-builder-step.html">crystal-builder-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/custom-step.html">custom-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/dftbplus-step.html">dftbplus-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/forcefield-step.html">forcefield-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/from-smiles-step.html">from-smiles-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/lammps-step.html">lammps-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/loop-step.html">loop-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/molsystem.html">molsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/mopac-step.html">mopac-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/packmol-step.html">packmol-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/psi4-step.html">psi4-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/pyxtal-step.html">pyxtal-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/rdkit-step.html">rdkit-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/read-structure-step.html">read-structure-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/reference-handler.html">reference-handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/seamm.html">seamm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/seamm-dashboard.html">seamm-dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/seamm-datastore.html">seamm-datastore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/seamm-ff-util.html">seamm-ff-util</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/seamm-installer.html">seamm-installer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/seamm-jobserver.html">seamm-jobserver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/seamm-util.html">seamm-util</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/seamm-widgets.html">seamm-widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/set-cell-step.html">set-cell-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/supercell-step.html">supercell-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../statistics/table-step.html">table-step</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev_team.html">SEAMM Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Acknowledgements</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SEAMM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Tutorials</a></li>
      <li class="breadcrumb-item active">Tables and Loops</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/tutorials/tutorial_3.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="tables-and-loops">
<span id="tutorial-3"></span><h1>Tables and Loops<a class="headerlink" href="#tables-and-loops" title="Permalink to this heading"></a></h1>
<p>In the previous tutorials, we have demonstrated how to set up a flowchart, execute a job,
and inspect the results using the Dashboard. While it is nice to be able to run a
complicated simulations on a single chemical structure, it is often much more useful
to run the same protocol on a number of compounds to look for trends in the desired
physical or chemical properties. In this tutorial we will explore how perform complex
operations in SEAMM.</p>
<p>Let us begin with creating a set of molecules from their SMILES representation by
storing a list of SMILES strings in a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file. In the next step, we loop over
each line in the file which correspond to each chemical structure and calculate
a group of properties, this time using <cite>MOPAC</cite> semi-empirical quantum chemistry
program package.</p>
<p>On your local machine, create a new empty file store the SMILES strings in it as shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SMILES</span>
<span class="n">C</span>
<span class="n">CC</span>
<span class="n">CCO</span>
<span class="n">CCS</span>
<span class="n">OCCO</span>
<span class="n">c1ccccc1</span>
<span class="n">c1ccccc1O</span>
</pre></div>
</div>
<p>Then save the file with the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> (comma-separated values) extension. For the purpose of
this tutorial, we have made a subdirectory of <code class="docutils literal notranslate"><span class="pre">~/SEAMM</span></code> called <code class="docutils literal notranslate"><span class="pre">data</span></code> and named the
aforementioned file <code class="docutils literal notranslate"><span class="pre">smiles.csv</span></code>.</p>
<p>Next, make sure the the Dashboard and Job Server are running (see the <a class="reference internal" href="../installation/index.html#installation"><span class="std std-ref">Installing SEAMM</span></a> section
for further details). Then, activate the <cite>seamm</cite> conda environment and start the SEAMM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">seamm</span>
<span class="n">seamm</span>
</pre></div>
</div>
<p>Now, create a flowchart with the following steps:</p>
<ol class="arabic simple">
<li><p>Table – this is where we will read the table that you made</p></li>
<li><p>Join</p></li>
<li><p>Loop – this will be set to loop over the molecules in the table</p></li>
<li><p>FromSMILES – will create each structure in turn</p></li>
<li><p>MOPAC – will optimize the geometry and calculate properties</p></li>
<li><p>Table – will print the table so we can see the progress</p></li>
<li><p>Table – will save the table</p></li>
</ol>
<p>which should look like the following:</p>
<figure class="align-center" id="id1">
<img alt="A partial flowchart for looping over a table" src="../_images/partial_flowchart.png" />
<figcaption>
<p><span class="caption-text"><em>The initial skeleton of the flowchart</em></span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Open the dialog for the first Table step either by right-clicking and selecting
<code class="docutils literal notranslate"><span class="pre">Edit...</span></code> from the pop-up menu or simply double-clicking on the step rectangular
box. Change the <code class="docutils literal notranslate"><span class="pre">Operation</span></code> to <code class="docutils literal notranslate"><span class="pre">read</span></code> and type the path to your file in the
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">file</span></code> entry field:</p>
<figure class="align-center" id="id2">
<img alt="The dialog for a Table step" src="../_images/table_1.png" />
<figcaption>
<p><span class="caption-text"><em>The dialog for the first Table step</em></span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Then, edit the <code class="docutils literal notranslate"><span class="pre">Loop</span></code> step and change the first item from <code class="docutils literal notranslate"><span class="pre">For</span></code> to <code class="docutils literal notranslate"><span class="pre">For</span> <span class="pre">rows</span> <span class="pre">in</span> <span class="pre">table</span></code>
by clicking on the arrow on the right and selecting the aforementioned option from the menu.</p>
<p>The next part to edit is the <code class="docutils literal notranslate"><span class="pre">FromSMILES</span></code> step. Set the SMILES entry to <code class="docutils literal notranslate"><span class="pre">$_row[&quot;SMILES&quot;]</span></code>:</p>
<figure class="align-center" id="id3">
<img alt="The dialog for a FromSMILES step" src="../_images/from_smiles.png" />
<figcaption>
<p><span class="caption-text"><em>The dialog for the FromSMILES step</em></span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The loop automatically initializes some variables, the names of which start with an
underscore <code class="docutils literal notranslate"><span class="pre">_&lt;name&gt;</span></code> to prevent conflicts with the user-defined variables.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do not create variable names starting with an underscore!</p>
</div>
<p>When looping over the table row entries, the dictionary variable <cite>_row</cite> gets labeled
by the column headers and stores the entry values for each data instance.
Hence, <code class="docutils literal notranslate"><span class="pre">$_row[&quot;SMILES&quot;]</span></code> refers the value of an individual entry within the SMILES string
label (column). If our table had more columns, we could access each value using the name of
the column by using <code class="docutils literal notranslate"><span class="pre">$_row[&quot;&lt;column-name&gt;&quot;]</span></code>.</p>
<p>In the next stage, let us edit the MOPAC step. Similar to DFTB+, MOPAC includes a sub-flowchart.
Add a single <cite>Optimization</cite> task to its flowchart and open it for further modifications:</p>
<figure class="align-center" id="id4">
<img alt="The dialog for a MOPAC Optimization step" src="../_images/mopac_optimization.png" />
<figcaption>
<p><span class="caption-text"><em>The dialog for the MOPAC Optimization step</em></span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Then, click on the <code class="docutils literal notranslate"><span class="pre">Results</span></code> tab at the top of the page:</p>
<figure class="align-center" id="id5">
<img alt="The results tab for MOPAC Optimization" src="../_images/mopac_results.png" />
<figcaption>
<p><span class="caption-text"><em>Saving the results from a MOPAC optimization calculation</em></span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>There are five columns in the table of results:</p>
<dl class="simple">
<dt><strong>Result</strong></dt><dd><p>The property or other computed result</p>
</dd>
<dt><strong>Save</strong></dt><dd><p>Used to store a specific value in a variable</p>
</dd>
<dt><strong>Variable name</strong></dt><dd><p>The name of a variable which is editable</p>
</dd>
<dt><strong>In table</strong></dt><dd><p>The table for storing the results</p>
</dd>
<dt><strong>Column name</strong></dt><dd><p>The name of the column in the table</p>
</dd>
</dl>
<p>Only the scalar values can be stored in tables. Let us save the <code class="docutils literal notranslate"><span class="pre">area</span></code>, <code class="docutils literal notranslate"><span class="pre">dipole</span></code>,
<code class="docutils literal notranslate"><span class="pre">heat</span> <span class="pre">of</span> <span class="pre">formation</span></code>, <code class="docutils literal notranslate"><span class="pre">ionization</span> <span class="pre">potential</span></code> and <code class="docutils literal notranslate"><span class="pre">volume</span></code> in our table
named <strong>table1</strong>. Type in <strong>table1</strong> in the <code class="docutils literal notranslate"><span class="pre">Table</span></code> column for each of the above properties.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You can copy and paste the values by using ⌘C or ^C and ⌘V or ^V shortcut keys, respectively.</p>
</div>
<figure class="align-center" id="id6">
<img alt="The dialog showing MOPAC Optimization results" src="../_images/mopac_results_2.png" />
<figcaption>
<p><span class="caption-text"><em>Saving results from Optimization in MOPAC</em></span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Note that we changed the column name for the ionization potential to <code class="docutils literal notranslate"><span class="pre">IP</span></code> for brevity.
Click <code class="docutils literal notranslate"><span class="pre">OK</span></code> to save the changes to the <code class="docutils literal notranslate"><span class="pre">Results</span></code>, and click <code class="docutils literal notranslate"><span class="pre">OK</span></code> to save the
sub-flowchart for MOPAC.</p>
<p>Next, in the second <code class="docutils literal notranslate"><span class="pre">Table</span></code> step, change the <code class="docutils literal notranslate"><span class="pre">Operation</span></code> to <code class="docutils literal notranslate"><span class="pre">save</span></code> and in
the third <code class="docutils literal notranslate"><span class="pre">Table</span></code> step, change the same <code class="docutils literal notranslate"><span class="pre">Operation</span></code> to <code class="docutils literal notranslate"><span class="pre">print</span> <span class="pre">current</span> <span class="pre">row</span></code>.
We save the table after working on every molecule entry and thus, we do not lose
any information if e.g., the job crashes. Simultaneously, by printing each row,
we will be able to see our progress. In our present case, the aforementioned features
might not seem significant because MOPAC is very fast and our calculation involves
only a handful of molecules. However, if we execute our flowcharts on thousands of
molecular structures using a more accurate but slower quantum chemistry method, saving
incremental progress becomes crucial.</p>
<p>At this point, we have set up all required steps. Now, we are almost ready to execute
the flowchart. Before doing so, we need to close the loop in our flowchart. To do this,
we are going to drag an arrow from the last <code class="docutils literal notranslate"><span class="pre">Table</span></code> step up to the <code class="docutils literal notranslate"><span class="pre">Join</span></code> step,
just before the <code class="docutils literal notranslate"><span class="pre">Loop</span></code> box. Note that when the mouse is over a step box, the red
dots will appear around its edges. These red dots are in fact connection points allowing
the users to connect different steps together. When the mouse pointer is hovered over
one of the connection points, the red dot becomes larger indicating that it has become
active and ready to make a connection:</p>
<figure class="align-center" id="id7">
<img alt="The flowchart with an active connection" src="../_images/closing_1.png" />
<figcaption>
<p><span class="caption-text"><em>Active connection dot on last Table step</em></span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Click on an active connection point (red dots around the step boxes) and drag a connecting
arrow to the <code class="docutils literal notranslate"><span class="pre">Join</span></code> step. As you get closer to the <code class="docutils literal notranslate"><span class="pre">Join</span></code> step box, its connection dots
will appear around it. Hover the mouse pointer over the connection point on the right
side of the <code class="docutils literal notranslate"><span class="pre">Join</span></code> box until it becomes active. Now, release the mouse button to create
the connection.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At the moment, the position of the mouse pointer on the <code class="docutils literal notranslate"><span class="pre">Join</span></code> step is quite sensitive. So,
care must be taken when hovering the mouse over the connection points. If one releases the
mouse button before the mouse pointer is exactly on the active connection point, the connection
arrow will disappear. This issue will be resolved in the upcoming releases.</p>
</div>
<figure class="align-center" id="id8">
<img alt="Dropping the connection on the Join step" src="../_images/closing_2.png" />
<figcaption>
<p><span class="caption-text"><em>Dropping the connection on the Join step</em></span><a class="headerlink" href="#id8" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Upon making a connection between the last <code class="docutils literal notranslate"><span class="pre">Table</span></code> step and the <code class="docutils literal notranslate"><span class="pre">Join</span></code> step, the
flowchart will look like the following:</p>
<figure class="align-center" id="id9">
<img alt="Initial connection closing a loop" src="../_images/closing_3.png" />
<figcaption>
<p><span class="caption-text"><em>The connection closing the loop</em></span><a class="headerlink" href="#id9" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The flowchart shown above does not look well-organized. Under the Edit
menu click on <code class="docutils literal notranslate"><span class="pre">Clean</span> <span class="pre">layout</span></code> item. This will automatically clean the
flowchart layout to a standard form:</p>
<figure class="align-center" id="id10">
<img alt="Final flowchart" src="../_images/closing_4.png" />
<figcaption>
<p><span class="caption-text"><em>Completed flowchart</em></span><a class="headerlink" href="#id10" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>At this point, all that is left is to run the flowchart. Select <code class="docutils literal notranslate"><span class="pre">Run</span></code> from the <code class="docutils literal notranslate"><span class="pre">File</span></code>
menu, fill out the form with an appropriate title and description, and click on the <code class="docutils literal notranslate"><span class="pre">OK</span></code>
button. Next, navigate back to the browser and open the DashBoard at <a class="reference external" href="http://localhost:55055">http://localhost:55055</a>.
After logging in, check the list of the executed jobs within the workflow and explore
the results of the current job. Pay attention to the table of results printed in the
<code class="docutils literal notranslate"><span class="pre">job.out</span></code> file:</p>
<figure class="align-center" id="id11">
<img alt="Job.out showing the table of results" src="../_images/table.png" />
<figcaption>
<p><span class="caption-text"><em>The printed table of results</em></span><a class="headerlink" href="#id11" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>By double-clicking on the <code class="docutils literal notranslate"><span class="pre">Step</span> <span class="pre">3</span></code> folder within the directory section on the left pane,
all subdirectories corresponding to the <code class="docutils literal notranslate"><span class="pre">Loop</span></code> step iterations over all molecular SMILES will
appear in the expanded section. Opening one of the iteration subdirectories shows all pertinent input,
output, or intermediate files for that iteration including the structure and <code class="docutils literal notranslate"><span class="pre">iteration.out</span></code>
which is an output summary much like the <code class="docutils literal notranslate"><span class="pre">job.out</span></code> file but specifically for one iteration:</p>
<figure class="align-center" id="id12">
<img alt="Dashboard showing iterations of a loop" src="../_images/iterations.png" />
<figcaption>
<p><span class="caption-text"><em>DashBoard show an iteration of the loop</em></span><a class="headerlink" href="#id12" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Finally, by looking at the CSV file that is created, one can inspect the updated properties
resulting from MOPAC:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">,</span><span class="n">SMILES</span><span class="p">,</span><span class="n">area</span><span class="p">,</span><span class="n">dipole</span><span class="p">,</span><span class="n">heat_of_formation</span><span class="p">,</span><span class="n">IP</span><span class="p">,</span><span class="n">volume</span>
<span class="mi">0</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="mf">54.8143</span><span class="p">,</span><span class="mf">0.00181763</span><span class="p">,</span><span class="o">-</span><span class="mf">14.4037</span><span class="p">,</span><span class="mf">13.7252</span><span class="p">,</span><span class="mf">37.0557</span>
<span class="mi">1</span><span class="p">,</span><span class="n">CC</span><span class="p">,</span><span class="mf">75.9592</span><span class="p">,</span><span class="mf">0.00060312</span><span class="p">,</span><span class="o">-</span><span class="mf">18.1965</span><span class="p">,</span><span class="mf">11.9601</span><span class="p">,</span><span class="mf">57.5002</span>
<span class="mi">2</span><span class="p">,</span><span class="n">CCO</span><span class="p">,</span><span class="mf">86.8539</span><span class="p">,</span><span class="mf">2.05345</span><span class="p">,</span><span class="o">-</span><span class="mf">57.8213</span><span class="p">,</span><span class="mf">10.6488</span><span class="p">,</span><span class="mf">68.9072</span>
<span class="mi">3</span><span class="p">,</span><span class="n">CCS</span><span class="p">,</span><span class="mf">102.311</span><span class="p">,</span><span class="mf">2.12867</span><span class="p">,</span><span class="o">-</span><span class="mf">11.5302</span><span class="p">,</span><span class="mf">8.86456</span><span class="p">,</span><span class="mf">87.7266</span>
<span class="mi">4</span><span class="p">,</span><span class="n">OCCO</span><span class="p">,</span><span class="mf">96.9126</span><span class="p">,</span><span class="mf">0.507571</span><span class="p">,</span><span class="o">-</span><span class="mf">95.5368</span><span class="p">,</span><span class="mf">10.4813</span><span class="p">,</span><span class="mf">80.4314</span>
<span class="mi">5</span><span class="p">,</span><span class="n">c1ccccc1</span><span class="p">,</span><span class="mf">119.695</span><span class="p">,</span><span class="mf">6.72145e-05</span><span class="p">,</span><span class="mf">22.9566</span><span class="p">,</span><span class="mf">9.82405</span><span class="p">,</span><span class="mf">108.368</span>
<span class="mi">6</span><span class="p">,</span><span class="n">c1ccccc1O</span><span class="p">,</span><span class="mf">129.604</span><span class="p">,</span><span class="mf">1.30752</span><span class="p">,</span><span class="o">-</span><span class="mf">22.1564</span><span class="p">,</span><span class="mf">9.2356</span><span class="p">,</span><span class="mf">119.327</span>
</pre></div>
</div>
<p>In this tutorial, we have demonstrated how to use loops to iterate over the entry rows
of a table and how to use tables to store the results of our calculations.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tutorial_2.html" class="btn btn-neutral float-left" title="Working with the Dashboard" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorial_4.html" class="btn btn-neutral float-right" title="Running from the Command-Line" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  

<p>
<div class="row">
  <div class="column_left">
    <a href="https://molssi.org/" target="_blank" title="Go to MolSSI in a new tab">
      <img src="/_images/MolSSI.jpg" alt="The MolSSI" style="border:0;">
    </a>
  </div>
  <div class="column">
    &copy; Copyright 2019-2022, the Molecular Sciences Software Institute,
    which receives funding from the National Science Foundation under awards OAC-1547580
    and CHE-2136142.
  </div>
  <div class="column_right">
    <a href="https://nsf.gov/" target="_blank" title="Go to the NSF in a new tab">
      <img src="/_images/NSF_4-Color_bitmap_Logo.png" alt="The NSF" style="border:0;">
    </a>
  </div>
</div>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>